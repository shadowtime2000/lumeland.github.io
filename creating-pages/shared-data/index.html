<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shared data</title>
    <link rel="stylesheet" href="/styles.css">
    <link href="/favicon-32x32.png" rel="icon" type="image/png" sizes="32x32">
  </head>

  <body>
    <nav class="menu">
      <a href="/">
        <img src="/lume.png" alt="Lume logo">
      </a>

      <ul>
        
        <li>
          <strong>Getting started</strong>
          <ul>
          
            <li>
              
              <a href="/getting-started/installation/">Installation</a>
              
            </li>
          
            <li>
              
              <a href="/getting-started/command-line/">Command line usage</a>
              
            </li>
          
            <li>
              
              <a href="/getting-started/config-file/">Configuration</a>
              
            </li>
          
          </ul>
        </li>
        
        <li>
          <strong>Creating pages</strong>
          <ul>
          
            <li>
              
              <a href="/creating-pages/page-files/">Page files</a>
              
            </li>
          
            <li>
              
              <a href="/creating-pages/page-data/">Page data</a>
              
            </li>
          
            <li>
              
              <a href="/creating-pages/layouts/">Layouts</a>
              
            </li>
          
            <li>
              
              <a href="/creating-pages/shared-data/" aria-current="page">Shared data</a>
              
            </li>
          
            <li>
              
              <a href="/creating-pages/tags/">Tags</a>
              
            </li>
          
            <li>
              
              <a href="/creating-pages/data/">Extra data</a>
              
            </li>
          
            <li>
              
              <a href="/creating-pages/searching/">Search and collecting</a>
              
            </li>
          
            <li>
              
              <a href="/creating-pages/pagination/">Pagination</a>
              
            </li>
          
            <li>
              
              <a href="/creating-pages/filters/">Filters</a>
              
            </li>
          
          </ul>
        </li>
        
        <li>
          <strong>Plugins</strong>
          <ul>
          
            <li>
              
              <a href="/plugins/about-plugins/">About plugins</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/bundler/">Bundler</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/dom/">DOM</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/eta/">Eta</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/inline/">Inline</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/json/">JSON</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/jsx/">JSX</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/markdown/">Markdown</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/modules/">Modules</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/nunjucks/">Nunjucks</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/postcss/">PostCSS</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/pug/">Pug</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/search/">Search</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/svg/">SVG</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/terser/">Terser</a>
              
            </li>
          
            <li>
              
              <a href="/plugins/yaml/">Yaml</a>
              
            </li>
          
          </ul>
        </li>
        
        <li>
          <strong>Advanced</strong>
          <ul>
          
            <li>
              
              <a href="/advanced/engines/">Template engines</a>
              
            </li>
          
            <li>
              
              <a href="/advanced/events/">Events</a>
              
            </li>
          
            <li>
              
              <a href="/advanced/flags/">Flags</a>
              
            </li>
          
            <li>
              
              <a href="/advanced/loaders/">Adding custom loaders</a>
              
            </li>
          
            <li>
              
              <a href="/advanced/plugins/">Creating plugins</a>
              
            </li>
          
            <li>
              
              <a href="/advanced/processors/">Adding custom processors</a>
              
            </li>
          
            <li>
              
              <a href="/advanced/scripts/">Scripts</a>
              
            </li>
          
            <li>
              
              <a href="/advanced/template-engines/">Configure template engines</a>
              
            </li>
          
          </ul>
        </li>
        
      </ul>
    </nav>

    <main class="main">
      
      <header>
        <p>Creating pages</p>
        <h1>Shared data</h1>
      </header>
      

      <p>In addition to the variables defined in the front matter of the pages and layouts, you can store other data accessible by some or all pages and layouts. Shared data must be saved in the <code>_data</code> folder or <code>_data.*</code> files with extensions like <code>.json</code>, <code>.yaml</code>, <code>.js</code> or <code>.ts</code>.</p>
<h2>The <code>_data.*</code> files</h2>
<p>Any file named as <code>_data.*</code> is loaded and shared with all pages in the same directory or subdirectory.</p>
<pre class="hljs"><code>├── _data.yaml      <span class="hljs-comment"># Data shared with all pages</span>
├── index.md
└── documentation
    └── _data.json  <span class="hljs-comment"># Shared with pages in this directory or subdirectories</span>
    └── doc1.md
    └── doc2.md
    └── examples
        └── _data.json  <span class="hljs-comment"># Shared with pages in this directory or subdirectories</span>
        └── example1.md
        └── example2.md
</code></pre>
<p>As you can see, the shared data is propagated in cascade following the folder structure. A typical use case is to store those variables that are common to all pages in the same directory so you don't have to repeat it for every page.</p>
<h2>The <code>_data</code> folders</h2>
<p><code>_data</code> folders are similar to <code>_data</code> files, but instead using only one file, the data is stored in several files inside that folder. The <em>basename</em> of each file determines the variable name that is used. Let's see an example:</p>
<pre class="hljs"><code>└── _data
    └── users.json
    └── documents
        └── one.js
        └── two.js
        └── three.js
</code></pre>
<p>In this example, the data stored in the file <code>_/data/users.json</code> can be accessed via <code>users</code> variable and documents via <code>documents.one</code>, <code>documents.two</code> and <code>documents.three</code>. To use this data in your templates:</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Documents<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
{% for doc in documents %}
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
      {{ doc.title }}
  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
{% endfor %}
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<p>Like <code>_data.*</code> files, you can have <code>_data</code> folders in different directories so they are shared only with all pages in the same directory or subdirectories.</p>

    </main>
  </body>
</html>
